:root {
  /* メインで使う色（クロス線やグローに使用） */
  --color-main: #b18cff;       /* 明るい紫 */
  --color-deep: #6751e3;       /* 濃い紫 */
  --color-bg: #f6f8fb;         /* ページ背景 */
  --color-blackout: #000000;   /* 黒幕パネル */
  --color-shadow: #b18cffb9;   /* クロス線の影色 */
  --color-white: #fff;         /* 白 */
}

/* --- ページ全体設定 --- */
body {
  background: var(--color-bg);
  color: #232323;
  font-family: 'Segoe UI', 'Hiragino Sans', 'Arial', sans-serif;
  min-height: 100vh;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: relative;
}

/* --- 中央のカード部分（コンテンツ本体） --- */
.container {
  max-width: 680px;
  margin: 72px auto 48px;
  padding: 36px 28px;
  background: #fff;
  border-radius: 22px;
  box-shadow: 0 6px 28px 0 #bbc6e933, 0 1px 8px 0 #b6b6b677;
  text-align: left;
  z-index: 1;
  position: relative;
  /* プシュン中のブラー＆透明度のためのトランジション */
  transition: filter 0.14s, opacity 0.2s;
}
/* プシュン演出中はぼかし＋薄く */
body.pushed .container {
  filter: blur(2.3px) brightness(1.13) grayscale(0.27);
  opacity: 0.34;
}

/* --- プシュンボタン --- */
#pushun-btn {
  margin-top: 44px;
  padding: 18px 56px;
  background:#221f46;
  color: #fff;
  border: none;
  border-radius: 38px;
  font-size: 1.26rem;
  font-weight: bold;
  letter-spacing: 0.1em;
  box-shadow: 0 2px 10px #6d5ed733;
  cursor: pointer;
  z-index: 2;
  position: relative;
}

/* ==========================
   黒幕（画面上下から覆うパネル）
========================== */
.blackout-panel {
  position: fixed;
  left: 0; right: 0;
  background: var(--color-blackout);
  z-index: 110;
  height: 0;
  /* heightで開閉アニメ。もともと0→プシュンで52vhに */
  transition: height 0.07s cubic-bezier(.7,0,.2,1.24);
  pointer-events: none;
}
#blackout-top { top: 0; }
#blackout-bottom { bottom: 0; }
/* プシュン中は上下ともにheight:52vhで中央を残して画面を覆う */
body.pushed .blackout-panel { height: 52vh; }

/* ==========================
   CRTクロス線・中心グロー
========================== */
#laser-layer {
  position: fixed;
  inset: 0; /* left:0;top:0;right:0;bottom:0;の省略形 */
  pointer-events: none;
  z-index: 120;
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  transition: opacity 0.13s cubic-bezier(.74,0,.5,1.1);
}
/* クロス線表示中のフェードイン */
#laser-layer.active { opacity: 1; transition: opacity 0.08s; }
/* クロス線・グロー消滅（収束しつつ消えるとき） */
#laser-layer.shrink #laser-horizontal,
#laser-layer.shrink #laser-vertical,
#laser-layer.shrink #laser-core {
  opacity: 0;
  filter: blur(36px);
}
/* クロス線3要素（共通：通常時のぼかしとフェード） */
#laser-horizontal, #laser-vertical, #laser-core {
  opacity: 1;
  filter: blur(1.2px);
  transition: opacity 0.17s, filter 0.22s;
}

/* --- 横線（白+紫グラデ、光る線） --- */
#laser-horizontal {
  position: absolute;
  top: 50%; left: 0;
  width: 100vw; height: 4.4px;
  transform: translateY(-50%);
  /* 線の色。ここを好きなグラデに変更可能 */
  background: linear-gradient(90deg,
    var(--color-deep) 0%,
    var(--color-main) 14%,
    var(--color-white) 47%,
    var(--color-white) 53%,
    var(--color-main) 86%,
    var(--color-deep) 100%
  );
  /* 発光感のためのshadow */
  box-shadow: 0 0 38px 12px var(--color-shadow),
              0 0 74px 15px #fff7,
              0 0 20px 5px #fff;
  border-radius: 14px;
  z-index: 2;
  transition: height 0.12s;
}
/* 収束アニメ時：線が細く&シャドウ縮小 */
#laser-layer.crt-fx #laser-horizontal {
  height: 1.5px;
  box-shadow: 0 0 18px 6px #b18cff77, 0 0 34px 7px #fff3, 0 0 7px 2px #fff;
}

/* --- 縦線（中央の白い縦光線） --- */
#laser-vertical {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%);
  width: 3.2px; height: 44px;
  /* 縦の線もグラデで色変更可 */
  background: linear-gradient(180deg,
    var(--color-deep) 0%,
    var(--color-white) 25%,
    var(--color-white) 53%,
    var(--color-main) 80%,
    var(--color-deep) 100%
  );
  box-shadow: 0 0 14px 3px #ffffff, 0 0 30px 8px var(--color-main);
  border-radius: 8px;
  z-index: 2;
  transition: height 0.12s;
}
/* 収束アニメ時：短く細く */
#laser-layer.crt-fx #laser-vertical { height: 9px; }

/* --- コア（中心のグロー、楕円型） --- */
#laser-core {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%, -50%) scale(1.17, 0.97);
  width: 25px; height: 22px;
  /* 中心の色・外縁のグラデを変更したい場合ここ */
  background: radial-gradient(ellipse at center,
    var(--color-white) 0% 69%,
    var(--color-main) 95%,
    rgba(197,165,255,0) 100%
  );
  box-shadow: 0 0 74px 23px var(--color-shadow),
              0 0 210px 48px #fff6;
  border-radius: 50%;
  opacity: 0.85;
  z-index: 1;
  transition: opacity 0.08s, box-shadow 0.12s, transform 0.13s;
}
/* 収束アニメ時：縮小・消滅 */
#laser-layer.crt-fx #laser-core {
  opacity: 0.21;
  transform: translate(-50%, -50%) scale(0.68, 0.38);
  box-shadow: 0 0 24px 8px #b18cff66;
}

/* ==========================
   プシュン後の画面全体フェード
========================== */
/* containerもボタンも薄く消える */
body.fadeout .container,
body.fadeout #pushun-btn {
  opacity: 0;
  transition: opacity 0.22s;
}
/* クロス線も消える */
body.fadeout #laser-layer {
  opacity: 0;
  transition: opacity 0.21s;
}
